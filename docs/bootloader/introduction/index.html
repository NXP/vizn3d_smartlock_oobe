<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Introduction | SLN-VIZN3D-IOT Developer Guide</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://nxp.github.io/vizn3d_smartlock_oobe/docs/bootloader/introduction"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Introduction | SLN-VIZN3D-IOT Developer Guide"><meta data-react-helmet="true" name="description" content="The Smart Lock project uses a &quot;bootloader + main application&quot; architecture to provide additional security and update-related functionality to the main application."><meta data-react-helmet="true" property="og:description" content="The Smart Lock project uses a &quot;bootloader + main application&quot; architecture to provide additional security and update-related functionality to the main application."><link data-react-helmet="true" rel="shortcut icon" href="/vizn3d_smartlock_oobe/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://nxp.github.io/vizn3d_smartlock_oobe/docs/bootloader/introduction"><link data-react-helmet="true" rel="alternate" href="https://nxp.github.io/vizn3d_smartlock_oobe/docs/bootloader/introduction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nxp.github.io/vizn3d_smartlock_oobe/docs/bootloader/introduction" hreflang="x-default"><link rel="stylesheet" href="/vizn3d_smartlock_oobe/assets/css/styles.dc5a0a56.css">
<link rel="preload" href="/vizn3d_smartlock_oobe/assets/js/runtime~main.c0c35828.js" as="script">
<link rel="preload" href="/vizn3d_smartlock_oobe/assets/js/main.b34c3984.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/vizn3d_smartlock_oobe/"><div class="navbar__logo"><img src="/vizn3d_smartlock_oobe/img/logo.svg" alt="NXP Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/vizn3d_smartlock_oobe/img/logo.svg" alt="NXP Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">SLN-VIZN3D-IOT</b></a><a class="navbar__item navbar__link navbar__link--active" href="/vizn3d_smartlock_oobe/docs/intro">Software Developer Guide</a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vizn3d_smartlock_oobe/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/vizn3d_smartlock_oobe/docs/setup-and-install">Setup and Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Bootloader</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/vizn3d_smartlock_oobe/docs/bootloader/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Boot Modes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vizn3d_smartlock_oobe/docs/bootloader/application-banks">Application Banks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Framework</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction</h1></header><p>The Smart Lock project uses a &quot;bootloader + main application&quot; architecture to provide additional security and update-related functionality to the main application.
The bootloader handles all boot-related tasks including, but not limited to:</p><ul><li>Launching the main application and, if necessary, initializing peripherals</li><li>Firmware updates using either the Mass Storage Device (MSD), Over-the-Air, or Over-the-Wire update method<ul><li>Protects against update failures by using a primary and backup application &quot;flash bank&quot;</li></ul></li><li>Image certification/verification<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup></li></ul><p><sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> The SLN-VIZN3D-IOT does not currently support any bootloader security features.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="why-use-a-bootloader">Why use a bootloader?<a aria-hidden="true" class="hash-link" href="#why-use-a-bootloader" title="Direct link to heading">â€‹</a></h2><p>By separating the boot process from the main application,
the main application can be safely updated and verified without the risk of creating an irrecoverable state due to a failed update, or running a malicious,
unauthorized and unsigned firmware binary flashed by a bad actor.
It is essential in any production application that precautions be taken to ensure the integrity and stability of the firmware before, during, and after an update,
and the bootloader application is simply one measure to help provide this assurance.</p><p>The following sections will describe how to use many of the bootloader&#x27;s primary features in order to assist developer&#x27;s interested in understanding, utilizing, and expanding them.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="application-banks">Application Banks<a aria-hidden="true" class="hash-link" href="#application-banks" title="Direct link to heading">â€‹</a></h2><p>The bootloader file system uses dual application &quot;banks&quot; referred to as &quot;Bank A&quot; and &quot;Bank B&quot; to provide a backup/redundancy &quot;known good&quot; application to prevent bricking when flashing an update via either the MSD, OTA, or OTW update method.
For example,
if an application update is being flashed via MSD to the Bank A application bank, even if that update should fail midway through Bank B will still contain a fully operational backup.</p><p>In the SLN-VIZN3D-IOT, Bank A is located at <code>0x30200000</code> while Bank B is located at <code>0x30800000</code>.
Specifying an application&#x27;s flash address can be done prior to compilation of the application via the <code>Properties-&gt;MCU Settings</code> menu as shown in the figure below:</p><p>Providing an application binary built for the proper application bank address is crucial during MSD, OTA, and OTW updates, and failure to do so will result in a failure to flash the binary.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The bootloader will not automatically recover from a botched flashing procedure,
but will instead revert to the alternate working application flash bank instead.</p></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="logging">Logging<a aria-hidden="true" class="hash-link" href="#logging" title="Direct link to heading">â€‹</a></h2><p>The bootloader supports debug logging over UART to help diagnose and debug issues that may arise while using or modifying the bootloader.
For example,
the debug logger can be helpful when trying to understand why an application update might have failed.</p><p>Logging is enabled by default in the <code>Debug</code> build mode configuration.
The logging functionality, however, comes with an increase in bootloader performance, and can slow down the boot process by as much as 200ms.
As a result,
it may be desirable to disable debug logging in production applications.
To disable logging in the bootloader,
simply build and run the bootloader in the <code>Release</code> build mode configuration.
This can be done by right-clicking on the bootloader project in the <code>Project Explorer</code> view
and navigating to <code>Build Configurations -&gt; Set Active -&gt; Release</code> as shown in the figure below:</p><p>To make use of the debug logging feature,
use a UART-&gt;USB converter to:</p><ul><li>Connect <code>GND</code> pin of converter to <code>J202: Pin 8</code></li><li>Connect <code>TX</code>  pin of converter to <code>J202: Pin 3</code></li><li>Connect <code>RX</code>  pin of converter to <code>J202: Pin 4</code></li></ul><p>Once the converter has been properly attached,
connect to the board using a serial terminal emulator like <em>PuTTY</em> or <em>Tera Term</em> configured with the following serial settings:</p><ul><li>Speed: <code>115200</code></li><li>Data: <code>8 Bit</code></li><li>Parity: <code>None</code></li><li>Stop Bits: <code>1 bit</code></li><li>Flow Control: <code>None</code></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nxp/vizn3d_smartlock_oobe/docs/docs/docs/bootloader/introduction.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/vizn3d_smartlock_oobe/docs/setup-and-install"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Setup and Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/vizn3d_smartlock_oobe/docs/bootloader/boot-modes/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-use-a-bootloader" class="table-of-contents__link toc-highlight">Why use a bootloader?</a></li><li><a href="#application-banks" class="table-of-contents__link toc-highlight">Application Banks</a></li><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/vizn3d_smartlock_oobe/docs/intro">Software Developer Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://community.nxp.com/t5/i-MX-RT/bd-p/imxrt" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>NXP i.MX RT Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.nxp.com/mcu-vision3d" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>SLN-VIZN3D-IOT Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/nxp/vizn3d_smartlock_oobe" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 NXP, Built with Docusaurus.</div></div></div></footer></div>
<script src="/vizn3d_smartlock_oobe/assets/js/runtime~main.c0c35828.js"></script>
<script src="/vizn3d_smartlock_oobe/assets/js/main.b34c3984.js"></script>
</body>
</html>